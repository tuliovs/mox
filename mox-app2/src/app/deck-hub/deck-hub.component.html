<div *ngIf="(deckList) then deckListed else emptyList"></div>

<ng-template #deckListed>
  <app-mox-titlebar>
    <ul class="tabs mox-font">
      <li *ngFor="let f of formats" (click)="setFormat(f)" [ngClass]="{'active': this.formatSelected === f}">{{f}}</li>
    </ul>
    <i class="fas fa-caret-right"></i>
  </app-mox-titlebar>
  <div class="main">
    <span *ngIf="!showLoader && deckList.length == 0" >Empty decklist</span>
    <ol *ngIf="!showLoader">
      <li *ngFor="let deck of filteredDeckList()" [ngClass]="{'selected-deck': this.internalDeck === deck}" >
        <div *ngIf="this.internalDeck === deck" class="zoom" (click)="viewDeck()"><i class="fas fa-search-plus"></i></div>
        <div class="cover"   (click)="deckSelected(deck)" [ngStyle]="{ 'background-image': 'url(' + deck.cover + ')' }"></div>
        <div class="content" (click)="deckSelected(deck)">
          <div>
            <label>{{deck.name}}</label>
            <span>{{deck.format}}</span>
          </div>
          <div class="second-level">
            <div class="owner" >by {{deck.ownerName}}</div>
            <div class="icons">
              <span>
                <i class="fas fa-lock" *ngIf="!deck.public"></i>
                <i class="fas fa-unlock" *ngIf="deck.public"></i>
              </span>
              <span>
                <i class="far fa-times-circle" *ngIf="!deck.legal"></i>
                <i class="far fa-check-circle" *ngIf="deck.legal"></i>
              </span>
            </div>
          </div>
        </div>
      </li>
    </ol>
  </div>
  <app-mox-action-bar>
    <button class="btn btn-action" disabled>
      <i class="fas fa-book-open" style="font-size: 1.2em" ></i>
    </button>
    <button class="btn btn-action" disabled>
      <i class="fas fa-filter"></i>
    </button>
    <div class="fixer"></div>
    <button class="btn btn-action" disabled>
      <i class="fas fa-sort" style="font-size: 1.4em"></i>
    </button>
    <app-mox-deck-context [deck]="internalDeck" [icon]="'fas fa-ellipsis-v'" *ngIf="internalDeck"></app-mox-deck-context>
    <button (click)="newDeck()" type="button" *ngIf="!internalDeck" class="btn btn-action">
      <i class="fas fa-plus"></i>
    </button>
  </app-mox-action-bar>
</ng-template>

<ng-template #emptyList>
  <div class="container">
    <app-mox-loading-spinner></app-mox-loading-spinner>
  </div>
</ng-template>

