<button *ngIf="icon" class="btn btn-action" (click)="activateContext()" [disabled]="disabled">
  <i class="{{icon}} action"></i>
</button>

<div [@card-contextTrigger]="componentState" class="lightbox"
    (click)="closeContext()"
    (swipeleft)="closeContext()"
    (swiperight)="closeContext()"
    (swipedown)="closeContext()"
></div>
<div [@card-contextTrigger]="componentState" *ngIf="card" class="action-menu">
  <div class="card-data">
    <p class="mox-font">{{card.name}}</p>
    <div>
      <img class="img" [ngStyle]="{ 'background-image': 'url(' + getCardImgUriCrop() + ')' }" />
    </div>
  </div>
  <section class="content" *ngIf="_auth.getUser() | async as user">
      <button type="button" class="btn btn-icon" disabled>
          <i class="fas fa-shopping-bag"></i>
          <label>Shop</label>
          <label>U${{card.usd}} | tix{{card.tix}}</label>
      </button>
      <button type="button" class="btn btn-icon" disabled>
          <i *ngIf="!fav" class="far fa-heart"></i>
          <i *ngIf="fav" class="fas fa-heart"></i>
          <label>Add to Favorites</label>
      </button>
    <button (click)="addOneCard()" type="button" class="btn btn-icon" [disabled]="!_deckService.deckProcess._deck || (_deckService.deckProcess._deck && _deckService.deckProcess._deck.ownerId !== user.uid)">
        <i class="fas fa-plus-circle"></i>
        <label>Add One to Deck</label>
    </button>
    <button (click)="addOneCard(true)" type="button" class="btn btn-icon" [disabled]="!_deckService.deckProcess._deck || (_deckService.deckProcess._deck && _deckService.deckProcess._deck.ownerId !== user.uid)">
        <i class="fas fa-plus-circle"></i>
        <label>Add One to Side</label>
    </button>
    <button type="button" class="btn btn-icon" disabled>
        <i class="fas fa-box-open"></i>
        <label>Add to One Collection</label>
    </button>
    <button (click)="setCover()" type="button" class="btn btn-icon" [disabled]="!_deckService.deckProcess._deck || (_deckService.deckProcess._deck && _deckService.deckProcess._deck.ownerId !== user.uid)" >
        <i class="fas fa-tags"></i>
        <label>Make Deck Cover</label>
    </button>
    <button type="button" class="btn btn-icon" disabled>
        <i class="fas fa-retweet"></i>
        <label>Share</label>
    </button>
    <button (click)="viewCard()" type="button" class="btn btn-icon">
        <i class="fas fa-search-plus"></i>
        <label>View Card</label>
    </button>
    <div class="editing-deck" *ngIf="_deckService.deckProcess._deck">
      <label>Editing Deck: {{_deckService.deckProcess._deck.name}}</label>
    </div>
  </section>
  <div class="closer" (click)="closeContext()">
    <i class="fas fa-times"></i>
  </div>
</div>
